> 연결을 성립하고 해제하는 과정을 뜻한다.

### 3 Way Handshake - 연결 성립

TCP는 정확한 전송을 보장해야 한다. 따라서 통신하기 앞서, 논리적인 접속을 성립하기 위해 3 Way Handshake 과정을 진행한다.

![](https://camo.githubusercontent.com/93a20307fba36868d05001ec53c2cf11751fc5311322e74386282390d7802df9/68747470733a2f2f6d656469612e6765656b73666f726765656b732e6f72672f77702d636f6e74656e742f75706c6f6164732f5443502d636f6e6e656374696f6e2d312e706e67)

1. 클라이언트가 서버에게 SYN 패킷을 보냄 (sequence : x)
2. 서버가 SYN(x)를 받고, 클라이언트로 받았다는 신호인 ACK와 SYN 패킷을 보내게 된다. (sequence : y, ACK : x + 1)
3. 클라이언트는 서버의 응답은 ACK(x + 1)와 SYN(y) 패킷으로 받고, ACK(y + 1)을 서버로 보낸다. 

이렇게 3번의 통신을 거쳐 연결이 성립된다. 3개의 과정을 거치기 때문에 3 Way HandShake라 명명하는 것.

### 4 Way Handshake - 연결 해제

연결 성립 후, 모든 통신이 끝난다면 연결을 해제해야 한다.

![](Paste Link)
![](https://camo.githubusercontent.com/57311b2d131468dc38c908e58e5d9dae5ce3de21321c05afc85e1f86801616ea/68747470733a2f2f6d656469612e6765656b73666f726765656b732e6f72672f77702d636f6e74656e742f75706c6f6164732f434e2e706e67)

1. 클라이언트는 서버에게 연결을 종료한다는 FIN 플래그를 보낸다.
2. 서버는 FIN을 받고, 확인했다는 ACK를 클라이언트에게 보낸다. (이때, 모든 데이터를 보내기 위해 CLOSE_WAIT 상태가 된다.)
3. 데이터를 모두 보냈다면, 연결이 종료되었다는 신호인 FIN 플래그를 클라이언트에게 보낸다.
4. 클라이언트는 FIN을 받고, 확인했다는 ACK를 서버에게 보낸다. (아직 서버로부터 받지 못한 데이터가 있을 수 있으므로 TIME_WAIT를 통해 기다린다.)
5. 서버는 ACK를 받은 이후 소켓을 닫는다.
6. TIME_WAIT 시간이 끝나면 클라이언트도 닫는다.